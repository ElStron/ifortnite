---
import BaseSection from "@/components/BaseSection.astro";
import IslandCard from '@/components/IslandCard.astro';
interface Props {
    title: string;
    
}
const { title } = Astro.props;
const response = await fetch('https://race.f1calendar.live/creative')
const data = await response.json();
const section = data.find((section: any) => section.category.label === title)

---
<BaseSection title={section.category.label}>
    {
        section.islands.map((island: any) => {
            return (
                <li>
                    <a href={`/creative/${island.islandCode}`}>
                        <IslandCard 
                            code={island.islandCode} 
                            image={island.imgSrc} 
                            title={island.title} 
                        />
                    </a>
                </li>
            )
        })
    }
</BaseSection>