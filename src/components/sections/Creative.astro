---
import BaseSection from "./BaseSection.astro";
import IslandCard from '../IslandCard.astro';
interface Props {
    title: string;
    
}
const { title } = Astro.props;
const response = await fetch('https://race.f1calendar.live/creative')
const data = await response.json();
const sections = data;
---
{
    sections.map((section: any) => {
        if (section.islands.length > 0) {

            return (
                <BaseSection title={section.category.label}>
                    {
                        section.islands.map((island: any) => {
                            return (
                                <li>
                                    <a href={`/creative/${island.islandCode}`}}>
                                        <IslandCard code={island.islandCode} image={island.imgSrc} title={island.title} />
                                    </a>
                                </li>
                            )
                        })
                    }
                </BaseSection>
            )
        }
        
    })
}

